<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Examen Navigation — 200 QCM</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
 body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 20px; line-height:1.4; }
 h1 { margin-bottom: 0.2rem; }
 .meta { color:#555; margin-bottom:1rem; }
 .q { border:1px solid #ddd; border-radius:8px; padding:14px; margin:12px 0; }
 .q h3 { margin:0 0 8px 0; font-size:1rem; }
 .choices label { display:block; margin:6px 0; cursor:pointer; }
 .actions { position:sticky; bottom:0; background:#fff; padding:12px 0; border-top:1px solid #eee; }
 button { font-size:1rem; padding:10px 14px; border-radius:8px; border:1px solid #333; cursor:pointer; }
 .result { margin-top:1rem; font-weight:600; }
 .correct { color: #0a7f21; }
 .incorrect { color: #b00020; }
 .explain { background:#f7f7f7; border-left:4px solid #ccc; padding:8px 10px; margin-top:8px; display:none; }
 .badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:0.8rem; border:1px solid #999; margin-left:8px; }
 .good { background:#e8f6ed; border-color:#0a7f21; color:#0a7f21;}
 .bad { background:#fdecec; border-color:#b00020; color:#b00020;}
 .legend { font-size:0.9rem; color:#444; }
 .small { font-size:0.9rem; color:#666; }
 .footer-note { margin-top:16px; color:#666; font-size:0.9rem; }
</style>
</head>
<body>
<h1>Examen de Navigation (200 QCM)</h1>
<div class="meta">Aucune pénalité pour les erreurs. Cochez vos réponses puis cliquez sur <b>Valider</b>.</div>
<div class="legend">Notation : 1 point par bonne réponse. À la correction, les justifications s'affichent sous chaque question.</div>

<div id="exam"></div>

<div class="actions">
  <button id="submitBtn">Valider</button>
  <button id="resetBtn" style="margin-left:8px;">Réinitialiser</button>
  <span id="score" class="result"></span>
</div>

<div class="footer-note small">Astuce : vous pouvez valider sans répondre à tout ; seules les réponses cochées sont notées.</div>

<script>

const data = [{"q": "Convertir 209 kt en mph (≈) :", "choices": ["230", "241", "253", "259"], "answer": 1, "explanation": "209 kt × 1.15078 ≈ 241 mph."}, {"q": "Temps de vol pour 90 NM à 150 kt :", "choices": ["0 h 44 min", "0 h 26 min", "0 h 51 min", "0 h 36 min"], "answer": 3, "explanation": "Temps = Distance / GS = 90/150 h = 0.60 h → 0 h 36 min."}, {"q": "Temps de vol pour 180 NM à 240 kt :", "choices": ["0 h 45 min", "0 h 35 min", "0 h 53 min", "1 h 00 min"], "answer": 0, "explanation": "Temps = Distance / GS = 180/240 h = 0.75 h → 0 h 45 min."}, {"q": "Vitesse sol (GS) pour 48 NM en 2.5 h :", "choices": ["12", "19", "27", "34"], "answer": 1, "explanation": "GS = Distance / Temps = 48 NM / 2.5 h ≈ 19 kt."}, {"q": "Temps de vol pour 90 NM à 240 kt :", "choices": ["0 h 30 min", "0 h 37 min", "0 h 12 min", "0 h 22 min"], "answer": 3, "explanation": "Temps = Distance / GS = 90/240 h = 0.38 h → 0 h 22 min."}, {"q": "Convertir 37.5° de différence de longitude en différence de temps (LMT) :", "choices": ["2 h 38 min", "2 h 20 min", "2 h 45 min", "2 h 30 min"], "answer": 3, "explanation": "1 h = 15°. 37.5° ÷ 15 = 2.50 h → 2 h 30 min."}, {"q": "Vitesse sol (GS) pour 270 NM en 1 h :", "choices": ["261", "270", "278", "285"], "answer": 1, "explanation": "GS = Distance / Temps = 270 NM / 1 h ≈ 270 kt."}, {"q": "Convertir 146 mph en kt (≈) :", "choices": ["122", "127", "134", "142"], "answer": 1, "explanation": "146 mph ÷ 1.15078 ≈ 127 kt."}, {"q": "Temps de vol pour 150 NM à 120 kt :", "choices": ["1 h 30 min", "1 h 05 min", "1 h 15 min", "1 h 23 min"], "answer": 2, "explanation": "Temps = Distance / GS = 150/120 h = 1.25 h → 1 h 15 min."}, {"q": "Convertir 198 kt en mph (≈) :", "choices": ["217", "228", "240", "248"], "answer": 1, "explanation": "198 kt × 1.15078 ≈ 228 mph."}, {"q": "Trouver MH à partir de TH=291° avec Variation=8°W :", "choices": ["291°", "299°", "308°", "311°"], "answer": 1, "explanation": "MH = TH + Var(W). Ici TH=291°, Var=8°W → MH=299°."}, {"q": "Convertir 15° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 08 min", "1 h 00 min", "1 h 00 min", "1 h 15 min"], "answer": 1, "explanation": "1 h = 15°. 15° ÷ 15 = 1.00 h → 1 h 00 min."}, {"q": "Temps de vol pour 210 NM à 110 kt :", "choices": ["1 h 55 min", "2 h 10 min", "1 h 45 min", "2 h 03 min"], "answer": 0, "explanation": "Temps = Distance / GS = 210/110 h = 1.91 h → 1 h 55 min."}, {"q": "Vitesse sol (GS) pour 90 NM en 1 h :", "choices": ["83", "90", "96", "102"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 1 h ≈ 90 kt."}, {"q": "Distance parcourue à 180 kt en 50 min :", "choices": ["141", "150", "160", "165"], "answer": 1, "explanation": "Distance = GS × Temps = 180 × 50/60 ≈ 150 NM."}, {"q": "Convertir 106 kt en mph (≈) :", "choices": ["115", "122", "130", "140"], "answer": 1, "explanation": "106 kt × 1.15078 ≈ 122 mph."}, {"q": "À latitude commune, le lever du Soleil (en LMT) :", "choices": ["Se produit au même LMT", "Varie fortement de plusieurs heures", "Dépend de la longitude uniquement", "Est identique en UTC"], "answer": 0, "explanation": "À même latitude, la géométrie Soleil/observateur est similaire, donc lever à LMT similaire."}, {"q": "Vitesse sol (GS) pour 72 NM en 2.5 h :", "choices": ["22", "29", "35", "44"], "answer": 1, "explanation": "GS = Distance / Temps = 72 NM / 2.5 h ≈ 29 kt."}, {"q": "Avec TC = 325° et WCA = 12° (positif = dérive droite), trouver TH :", "choices": ["328°", "337°", "344°", "352°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à droite). Ici TH = 325 + (12) = 337°."}, {"q": "Convertir 406 mph en kt (≈) :", "choices": ["347", "353", "361", "368"], "answer": 1, "explanation": "406 mph ÷ 1.15078 ≈ 353 kt."}, {"q": "Convertir 30° de différence de longitude en différence de temps (LMT) :", "choices": ["2 h 08 min", "2 h 00 min", "2 h 00 min", "2 h 15 min"], "answer": 1, "explanation": "1 h = 15°. 30° ÷ 15 = 2.00 h → 2 h 00 min."}, {"q": "Convertir 256 kt en mph (≈) :", "choices": ["288", "295", "303", "313"], "answer": 1, "explanation": "256 kt × 1.15078 ≈ 295 mph."}, {"q": "Relation correcte (sans déviation compas) :", "choices": ["TH = TC ± WCA", "MH = TH ± Variation", "CH = MH ± Variation", "TC = TH ± Déviation"], "answer": 0, "explanation": "TH (True Heading) = TC (True Course) ± WCA (Wind Correction Angle)."}, {"q": "Avec TC = 101° et WCA = -8° (positif = dérive droite), trouver TH :", "choices": ["87°", "93°", "100°", "113°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 101 + (-8) = 93°."}, {"q": "Vitesse sol (GS) pour 90 NM en 2.5 h :", "choices": ["31", "36", "42", "51"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 2.5 h ≈ 36 kt."}, {"q": "Convertir 60° de différence de longitude en différence de temps (LMT) :", "choices": ["4 h 00 min", "4 h 00 min", "4 h 08 min", "4 h 15 min"], "answer": 0, "explanation": "1 h = 15°. 60° ÷ 15 = 4.00 h → 4 h 00 min."}, {"q": "Convertir 238 kt en mph (≈) :", "choices": ["267", "274", "282", "292"], "answer": 1, "explanation": "238 kt × 1.15078 ≈ 274 mph."}, {"q": "Convertir 60° de différence de longitude en différence de temps (LMT) :", "choices": ["4 h 00 min", "4 h 08 min", "4 h 15 min", "4 h 00 min"], "answer": 0, "explanation": "1 h = 15°. 60° ÷ 15 = 4.00 h → 4 h 00 min."}, {"q": "Convertir 208 mph en kt (≈) :", "choices": ["174", "181", "190", "196"], "answer": 1, "explanation": "208 mph ÷ 1.15078 ≈ 181 kt."}, {"q": "Convertir 173 kt en mph (≈) :", "choices": ["190", "199", "209", "219"], "answer": 1, "explanation": "173 kt × 1.15078 ≈ 199 mph."}, {"q": "Temps de vol pour 150 NM à 130 kt :", "choices": ["1 h 09 min", "1 h 24 min", "1 h 17 min", "1 h 00 min"], "answer": 0, "explanation": "Temps = Distance / GS = 150/130 h = 1.15 h → 1 h 09 min."}, {"q": "Un 'apparent solar day' est :", "choices": ["Le temps entre deux transits successifs du Soleil vrai au méridien", "Toujours exactement 24h", "Un jour civil", "Le temps moyen donné par une horloge"], "answer": 0, "explanation": "Jour solaire apparent = intervalle entre deux culminations du Soleil vrai ; il varie légèrement."}, {"q": "Temps de vol pour 150 NM à 120 kt :", "choices": ["1 h 30 min", "1 h 23 min", "1 h 15 min", "1 h 05 min"], "answer": 2, "explanation": "Temps = Distance / GS = 150/120 h = 1.25 h → 1 h 15 min."}, {"q": "Vitesse sol (GS) pour 48 NM en 4 h :", "choices": ["7", "12", "22", "24"], "answer": 1, "explanation": "GS = Distance / Temps = 48 NM / 4 h ≈ 12 kt."}, {"q": "Convertir 2 h de différence de temps en degrés de longitude :", "choices": ["25°", "30°", "35°", "40°"], "answer": 1, "explanation": "15° par heure. 2 h × 15 = 30°."}, {"q": "Temps de vol pour 60 NM à 100 kt :", "choices": ["0 h 51 min", "0 h 26 min", "0 h 36 min", "0 h 44 min"], "answer": 2, "explanation": "Temps = Distance / GS = 60/100 h = 0.60 h → 0 h 36 min."}, {"q": "Convertir 429 mph en kt (≈) :", "choices": ["368", "373", "381", "391"], "answer": 1, "explanation": "429 mph ÷ 1.15078 ≈ 373 kt."}, {"q": "Convertir 157 mph en kt (≈) :", "choices": ["130", "136", "144", "151"], "answer": 1, "explanation": "157 mph ÷ 1.15078 ≈ 136 kt."}, {"q": "Convertir 112 kt en mph (≈) :", "choices": ["120", "129", "141", "147"], "answer": 1, "explanation": "112 kt × 1.15078 ≈ 129 mph."}, {"q": "Convertir 15° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 15 min", "1 h 08 min", "1 h 00 min", "1 h 00 min"], "answer": 2, "explanation": "1 h = 15°. 15° ÷ 15 = 1.00 h → 1 h 00 min."}, {"q": "Vitesse sol (GS) pour 90 NM en 1 h :", "choices": ["85", "90", "98", "102"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 1 h ≈ 90 kt."}, {"q": "Convertir 37.5° de différence de longitude en différence de temps (LMT) :", "choices": ["2 h 30 min", "2 h 20 min", "2 h 45 min", "2 h 38 min"], "answer": 0, "explanation": "1 h = 15°. 37.5° ÷ 15 = 2.50 h → 2 h 30 min."}, {"q": "Convertir 0.5 h de différence de temps en degrés de longitude :", "choices": ["12.5°", "17.5°", "2.5°", "7.5°"], "answer": 3, "explanation": "15° par heure. 0.5 h × 15 = 7.5°."}, {"q": "Temps de vol pour 75 NM à 180 kt :", "choices": ["0 h 15 min", "0 h 40 min", "0 h 25 min", "0 h 33 min"], "answer": 2, "explanation": "Temps = Distance / GS = 75/180 h = 0.42 h → 0 h 25 min."}, {"q": "Convertir 489 mph en kt (≈) :", "choices": ["420", "425", "434", "440"], "answer": 1, "explanation": "489 mph ÷ 1.15078 ≈ 425 kt."}, {"q": "Temps de vol pour 75 NM à 240 kt :", "choices": ["0 h 19 min", "0 h 34 min", "0 h 27 min", "0 h 09 min"], "answer": 0, "explanation": "Temps = Distance / GS = 75/240 h = 0.31 h → 0 h 19 min."}, {"q": "Convertir 22.5° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 38 min", "1 h 30 min", "1 h 20 min", "1 h 45 min"], "answer": 1, "explanation": "1 h = 15°. 22.5° ÷ 15 = 1.50 h → 1 h 30 min."}, {"q": "Convertir 1 h de différence de temps en degrés de longitude :", "choices": ["10°", "15°", "20°", "25°"], "answer": 1, "explanation": "15° par heure. 1 h × 15 = 15°."}, {"q": "Vitesse sol (GS) pour 60 NM en 3 h :", "choices": ["11", "20", "26", "32"], "answer": 1, "explanation": "GS = Distance / Temps = 60 NM / 3 h ≈ 20 kt."}, {"q": "Les méridiens (lignes de longitude) sont :", "choices": ["Des demi-grands cercles reliant les pôles", "Des petits cercles", "Des cercles concentriques", "Des parallèles"], "answer": 0, "explanation": "Chaque méridien est la moitié d'un grand cercle qui relie les deux pôles."}, {"q": "Avec TC = 342° et WCA = -8° (positif = dérive droite), trouver TH :", "choices": ["325°", "334°", "341°", "354°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 342 + (-8) = 334°."}, {"q": "Un grand cercle :", "choices": ["Partage la sphère en deux hémisphères égaux", "Est toujours plus long qu'une loxodromie", "Est un petit cercle", "Ne passe jamais par les pôles"], "answer": 0, "explanation": "Définition : plan passant par le centre → deux hémisphères égaux."}, {"q": "Temps de vol pour 150 NM à 110 kt :", "choices": ["1 h 30 min", "1 h 37 min", "1 h 12 min", "1 h 22 min"], "answer": 3, "explanation": "Temps = Distance / GS = 150/110 h = 1.36 h → 1 h 22 min."}, {"q": "Temps de vol pour 60 NM à 150 kt :", "choices": ["0 h 39 min", "0 h 24 min", "0 h 32 min", "0 h 14 min"], "answer": 1, "explanation": "Temps = Distance / GS = 60/150 h = 0.40 h → 0 h 24 min."}, {"q": "Convertir 482 mph en kt (≈) :", "choices": ["413", "419", "428", "437"], "answer": 1, "explanation": "482 mph ÷ 1.15078 ≈ 419 kt."}, {"q": "Les parallèles (lignes de latitude) sont :", "choices": ["Des petits cercles (sauf l'équateur)", "Des grands cercles", "Des demi-grands cercles", "Des méridiens"], "answer": 0, "explanation": "Toutes les latitudes sauf l'équateur sont des petits cercles ; l'équateur est un grand cercle."}, {"q": "Distance parcourue à 220 kt en 120 min :", "choices": ["435", "440", "450", "452"], "answer": 1, "explanation": "Distance = GS × Temps = 220 × 120/60 ≈ 440 NM."}, {"q": "Vitesse sol (GS) pour 48 NM en 2.5 h :", "choices": ["12", "19", "29", "31"], "answer": 1, "explanation": "GS = Distance / Temps = 48 NM / 2.5 h ≈ 19 kt."}, {"q": "Convertir 437 mph en kt (≈) :", "choices": ["373", "380", "388", "395"], "answer": 1, "explanation": "437 mph ÷ 1.15078 ≈ 380 kt."}, {"q": "Distance parcourue à 180 kt en 90 min :", "choices": ["261", "270", "280", "282"], "answer": 1, "explanation": "Distance = GS × Temps = 180 × 90/60 ≈ 270 NM."}, {"q": "Convertir 251 kt en mph (≈) :", "choices": ["280", "289", "299", "307"], "answer": 1, "explanation": "251 kt × 1.15078 ≈ 289 mph."}, {"q": "Trouver CH à partir de MH=118° avec Déviation=2°E :", "choices": ["108°", "116°", "122°", "128°"], "answer": 1, "explanation": "CH = MH − Dev(E). MH=118°, Dev=2°E → CH=116°."}, {"q": "Convertir 235 mph en kt (≈) :", "choices": ["197", "204", "213", "222"], "answer": 1, "explanation": "235 mph ÷ 1.15078 ≈ 204 kt."}, {"q": "Convertir 3 h de différence de temps en degrés de longitude :", "choices": ["40°", "45°", "50°", "55°"], "answer": 1, "explanation": "15° par heure. 3 h × 15 = 45°."}, {"q": "Convertir 0.5 h de différence de temps en degrés de longitude :", "choices": ["12.5°", "17.5°", "2.5°", "7.5°"], "answer": 3, "explanation": "15° par heure. 0.5 h × 15 = 7.5°."}, {"q": "Convertir 417 kt en mph (≈) :", "choices": ["469", "480", "492", "498"], "answer": 1, "explanation": "417 kt × 1.15078 ≈ 480 mph."}, {"q": "Trouver CH à partir de MH=208° avec Déviation=6°W :", "choices": ["206°", "214°", "220°", "229°"], "answer": 1, "explanation": "CH = MH + Dev(W). MH=208°, Dev=6°W → CH=214°."}, {"q": "Une ligne agonique est une ligne :", "choices": ["Où la variation magnétique est nulle (0°)", "Où l'inclinaison magnétique est maximale", "De même variation non nulle", "De même déclinaison 5°E"], "answer": 0, "explanation": "Agonique = variation (déclinaison) 0° : nord vrai et nord magnétique alignés."}, {"q": "Convertir 30° de différence de longitude en différence de temps (LMT) :", "choices": ["2 h 00 min", "2 h 15 min", "2 h 00 min", "2 h 08 min"], "answer": 0, "explanation": "1 h = 15°. 30° ÷ 15 = 2.00 h → 2 h 00 min."}, {"q": "Distance parcourue à 200 kt en 120 min :", "choices": ["391", "400", "408", "412"], "answer": 1, "explanation": "Distance = GS × Temps = 200 × 120/60 ≈ 400 NM."}, {"q": "Convertir 60° de différence de longitude en différence de temps (LMT) :", "choices": ["4 h 08 min", "4 h 00 min", "4 h 00 min", "4 h 15 min"], "answer": 1, "explanation": "1 h = 15°. 60° ÷ 15 = 4.00 h → 4 h 00 min."}, {"q": "Vitesse sol (GS) pour 48 NM en 3 h :", "choices": ["11", "16", "22", "28"], "answer": 1, "explanation": "GS = Distance / Temps = 48 NM / 3 h ≈ 16 kt."}, {"q": "Trouver MH à partir de TH=44° avec Variation=12°E :", "choices": ["27°", "32°", "41°", "47°"], "answer": 1, "explanation": "MH = TH − Var(E). Ici TH=44°, Var=12°E → MH=32°."}, {"q": "Temps de vol pour 150 NM à 110 kt :", "choices": ["1 h 22 min", "1 h 12 min", "1 h 30 min", "1 h 37 min"], "answer": 0, "explanation": "Temps = Distance / GS = 150/110 h = 1.36 h → 1 h 22 min."}, {"q": "Convertir 421 mph en kt (≈) :", "choices": ["359", "366", "373", "384"], "answer": 1, "explanation": "421 mph ÷ 1.15078 ≈ 366 kt."}, {"q": "Convertir 22.5° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 38 min", "1 h 20 min", "1 h 30 min", "1 h 45 min"], "answer": 2, "explanation": "1 h = 15°. 22.5° ÷ 15 = 1.50 h → 1 h 30 min."}, {"q": "Convertir 420 mph en kt (≈) :", "choices": ["358", "365", "373", "380"], "answer": 1, "explanation": "420 mph ÷ 1.15078 ≈ 365 kt."}, {"q": "Distance parcourue à 140 kt en 50 min :", "choices": ["108", "117", "125", "132"], "answer": 1, "explanation": "Distance = GS × Temps = 140 × 50/60 ≈ 117 NM."}, {"q": "Convertir 157 mph en kt (≈) :", "choices": ["130", "136", "144", "151"], "answer": 1, "explanation": "157 mph ÷ 1.15078 ≈ 136 kt."}, {"q": "Temps de vol pour 120 NM à 130 kt :", "choices": ["1 h 03 min", "0 h 55 min", "0 h 45 min", "1 h 10 min"], "answer": 1, "explanation": "Temps = Distance / GS = 120/130 h = 0.92 h → 0 h 55 min."}, {"q": "Convertir 45° de différence de longitude en différence de temps (LMT) :", "choices": ["3 h 00 min", "3 h 15 min", "3 h 00 min", "3 h 08 min"], "answer": 0, "explanation": "1 h = 15°. 45° ÷ 15 = 3.00 h → 3 h 00 min."}, {"q": "Temps de vol pour 75 NM à 150 kt :", "choices": ["0 h 20 min", "0 h 30 min", "0 h 38 min", "0 h 45 min"], "answer": 1, "explanation": "Temps = Distance / GS = 75/150 h = 0.50 h → 0 h 30 min."}, {"q": "Convertir 401 kt en mph (≈) :", "choices": ["454", "461", "473", "479"], "answer": 1, "explanation": "401 kt × 1.15078 ≈ 461 mph."}, {"q": "Convertir 2.5 h de différence de temps en degrés de longitude :", "choices": ["32.5°", "37.5°", "42.5°", "47.5°"], "answer": 1, "explanation": "15° par heure. 2.5 h × 15 = 37.5°."}, {"q": "La relation de conversion degrés ↔ temps (LMT) est :", "choices": ["15° = 1 heure", "1° = 1 heure", "30° = 1 heure", "15° = 30 minutes"], "answer": 0, "explanation": "La Terre tourne ~360° en 24h : 15° par heure."}, {"q": "Temps de vol pour 300 NM à 90 kt :", "choices": ["3 h 10 min", "3 h 20 min", "3 h 35 min", "3 h 28 min"], "answer": 1, "explanation": "Temps = Distance / GS = 300/90 h = 3.33 h → 3 h 20 min."}, {"q": "Convertir 2 h de différence de temps en degrés de longitude :", "choices": ["25°", "30°", "35°", "40°"], "answer": 1, "explanation": "15° par heure. 2 h × 15 = 30°."}, {"q": "Convertir 125 kt en mph (≈) :", "choices": ["133", "144", "152", "162"], "answer": 1, "explanation": "125 kt × 1.15078 ≈ 144 mph."}, {"q": "1 NM (mille nautique) vaut :", "choices": ["1852 m", "1000 m", "1609 m", "1,15078 mph"], "answer": 0, "explanation": "1 NM = 1852 m. 1 kt = 1 NM/h ≈ 1,15078 mph."}, {"q": "Vitesse sol (GS) pour 90 NM en 1 h :", "choices": ["81", "90", "98", "102"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 1 h ≈ 90 kt."}, {"q": "Convertir 264 kt en mph (≈) :", "choices": ["297", "304", "314", "322"], "answer": 1, "explanation": "264 kt × 1.15078 ≈ 304 mph."}, {"q": "Convertir 465 mph en kt (≈) :", "choices": ["398", "404", "412", "422"], "answer": 1, "explanation": "465 mph ÷ 1.15078 ≈ 404 kt."}, {"q": "La 'déviation' compas est :", "choices": ["L'erreur propre au compas à bord", "La différence entre LMT et UTC", "La différence entre TH et TC", "La variation magnétique"], "answer": 0, "explanation": "Déviation = erreur due aux perturbations magnétiques locales (bord)."}, {"q": "Convertir 383 mph en kt (≈) :", "choices": ["326", "333", "340", "348"], "answer": 1, "explanation": "383 mph ÷ 1.15078 ≈ 333 kt."}, {"q": "Distance parcourue à 140 kt en 90 min :", "choices": ["205", "210", "220", "225"], "answer": 1, "explanation": "Distance = GS × Temps = 140 × 90/60 ≈ 210 NM."}, {"q": "Trouver MH à partir de TH=284° avec Variation=3°E :", "choices": ["276°", "281°", "287°", "293°"], "answer": 1, "explanation": "MH = TH − Var(E). Ici TH=284°, Var=3°E → MH=281°."}, {"q": "Avec TC = 215° et WCA = 12° (positif = dérive droite), trouver TH :", "choices": ["218°", "227°", "234°", "247°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à droite). Ici TH = 215 + (12) = 227°."}, {"q": "Distance parcourue à 180 kt en 60 min :", "choices": ["175", "180", "190", "192"], "answer": 1, "explanation": "Distance = GS × Temps = 180 × 60/60 ≈ 180 NM."}, {"q": "Distance parcourue à 160 kt en 75 min :", "choices": ["195", "200", "210", "215"], "answer": 1, "explanation": "Distance = GS × Temps = 160 × 75/60 ≈ 200 NM."}, {"q": "Temps de vol pour 300 NM à 180 kt :", "choices": ["1 h 30 min", "1 h 48 min", "1 h 55 min", "1 h 40 min"], "answer": 3, "explanation": "Temps = Distance / GS = 300/180 h = 1.67 h → 1 h 40 min."}, {"q": "Convertir 12° de différence de longitude en différence de temps (LMT) :", "choices": ["0 h 38 min", "0 h 56 min", "0 h 48 min", "1 h 03 min"], "answer": 2, "explanation": "1 h = 15°. 12° ÷ 15 = 0.80 h → 0 h 48 min."}, {"q": "Temps de vol pour 210 NM à 150 kt :", "choices": ["1 h 39 min", "1 h 14 min", "1 h 24 min", "1 h 32 min"], "answer": 2, "explanation": "Temps = Distance / GS = 210/150 h = 1.40 h → 1 h 24 min."}, {"q": "Avec TC = 338° et WCA = 5° (positif = dérive droite), trouver TH :", "choices": ["334°", "343°", "350°", "358°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à droite). Ici TH = 338 + (5) = 343°."}, {"q": "Vitesse sol (GS) pour 270 NM en 4 h :", "choices": ["63", "68", "78", "83"], "answer": 1, "explanation": "GS = Distance / Temps = 270 NM / 4 h ≈ 68 kt."}, {"q": "Distance parcourue à 90 kt en 50 min :", "choices": ["68", "75", "81", "87"], "answer": 1, "explanation": "Distance = GS × Temps = 90 × 50/60 ≈ 75 NM."}, {"q": "Vitesse sol (GS) pour 48 NM en 1 h :", "choices": ["41", "48", "58", "60"], "answer": 1, "explanation": "GS = Distance / Temps = 48 NM / 1 h ≈ 48 kt."}, {"q": "Convertir 284 kt en mph (≈) :", "choices": ["318", "327", "337", "347"], "answer": 1, "explanation": "284 kt × 1.15078 ≈ 327 mph."}, {"q": "Trouver MH à partir de TH=253° avec Variation=12°E :", "choices": ["233°", "241°", "247°", "253°"], "answer": 1, "explanation": "MH = TH − Var(E). Ici TH=253°, Var=12°E → MH=241°."}, {"q": "Les lignes isogoniques relient :", "choices": ["Des points de même variation magnétique", "Des points de variation magnétique nulle", "Des points de même inclinaison", "Des méridiens"], "answer": 0, "explanation": "Isogoniques = même valeur de déclinaison (variation) magnétique."}, {"q": "Convertir 173 kt en mph (≈) :", "choices": ["190", "199", "209", "217"], "answer": 1, "explanation": "173 kt × 1.15078 ≈ 199 mph."}, {"q": "Convertir 178 mph en kt (≈) :", "choices": ["150", "155", "163", "170"], "answer": 1, "explanation": "178 mph ÷ 1.15078 ≈ 155 kt."}, {"q": "Distance parcourue à 140 kt en 75 min :", "choices": ["170", "175", "181", "190"], "answer": 1, "explanation": "Distance = GS × Temps = 140 × 75/60 ≈ 175 NM."}, {"q": "Vitesse sol (GS) pour 72 NM en 1.5 h :", "choices": ["43", "48", "56", "60"], "answer": 1, "explanation": "GS = Distance / Temps = 72 NM / 1.5 h ≈ 48 kt."}, {"q": "Trouver CH à partir de MH=180° avec Déviation=6°W :", "choices": ["178°", "186°", "195°", "201°"], "answer": 1, "explanation": "CH = MH + Dev(W). MH=180°, Dev=6°W → CH=186°."}, {"q": "Convertir 405 mph en kt (≈) :", "choices": ["346", "352", "359", "370"], "answer": 1, "explanation": "405 mph ÷ 1.15078 ≈ 352 kt."}, {"q": "La forme de la Terre est considérée comme :", "choices": ["Un sphéroïde oblate (aplatie aux pôles)", "Un sphéroïde prolate (aplatie à l'équateur)", "Un plan", "Un cône"], "answer": 0, "explanation": "La Terre est légèrement aplatie aux pôles et renflée à l'équateur : sphéroïde oblate."}, {"q": "Distance parcourue à 160 kt en 90 min :", "choices": ["231", "240", "250", "252"], "answer": 1, "explanation": "Distance = GS × Temps = 160 × 90/60 ≈ 240 NM."}, {"q": "Le triangle des vitesses comporte :", "choices": ["TAS + cap, vent, GS + route suivie (track)", "TAS + track, vent, GS + cap", "TAS seul, vent seul, GS seul", "Deux vitesses et un angle"], "answer": 0, "explanation": "Vecteurs : air (TAS, heading), vent, sol (GS, track)."}, {"q": "Avec TC = 333° et WCA = -12° (positif = dérive droite), trouver TH :", "choices": ["315°", "321°", "328°", "336°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 333 + (-12) = 321°."}, {"q": "Convertir 369 kt en mph (≈) :", "choices": ["414", "425", "433", "445"], "answer": 1, "explanation": "369 kt × 1.15078 ≈ 425 mph."}, {"q": "Distance parcourue à 200 kt en 75 min :", "choices": ["241", "250", "258", "265"], "answer": 1, "explanation": "Distance = GS × Temps = 200 × 75/60 ≈ 250 NM."}, {"q": "Convertir 417 kt en mph (≈) :", "choices": ["473", "480", "488", "500"], "answer": 1, "explanation": "417 kt × 1.15078 ≈ 480 mph."}, {"q": "Le WCA (Wind Correction Angle) est :", "choices": ["Un angle appliqué au cap pour compenser la dérive due au vent", "Un angle appliqué à la route vraie pour compenser la variation", "La déclinaison magnétique", "Un angle appliqué au compas pour compenser la déviation"], "answer": 0, "explanation": "WCA corrige le cap (heading) pour rester sur la route (track) malgré le vent latéral."}, {"q": "Vitesse sol (GS) pour 90 NM en 1.5 h :", "choices": ["53", "60", "68", "75"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 1.5 h ≈ 60 kt."}, {"q": "Convertir 411 kt en mph (≈) :", "choices": ["464", "473", "485", "491"], "answer": 1, "explanation": "411 kt × 1.15078 ≈ 473 mph."}, {"q": "Convertir 93 kt en mph (≈) :", "choices": ["96", "107", "115", "127"], "answer": 1, "explanation": "93 kt × 1.15078 ≈ 107 mph."}, {"q": "Vitesse sol (GS) pour 90 NM en 1.5 h :", "choices": ["51", "60", "66", "75"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 1.5 h ≈ 60 kt."}, {"q": "Convertir 405 mph en kt (≈) :", "choices": ["345", "352", "360", "370"], "answer": 1, "explanation": "405 mph ÷ 1.15078 ≈ 352 kt."}, {"q": "Trouver MH à partir de TH=267° avec Variation=15°W :", "choices": ["274°", "282°", "291°", "297°"], "answer": 1, "explanation": "MH = TH + Var(W). Ici TH=267°, Var=15°W → MH=282°."}, {"q": "Une position en navigation se définit :", "choices": ["Par ses coordonnées (lat/long) : un point fixe", "Par une direction uniquement", "Par une distance uniquement", "Par l'altitude uniquement"], "answer": 0, "explanation": "La position est un point repéré par des coordonnées (latitude, longitude)."}, {"q": "Vitesse sol (GS) pour 180 NM en 2.5 h :", "choices": ["67", "72", "82", "84"], "answer": 1, "explanation": "GS = Distance / Temps = 180 NM / 2.5 h ≈ 72 kt."}, {"q": "Temps de vol pour 210 NM à 110 kt :", "choices": ["2 h 10 min", "2 h 03 min", "1 h 45 min", "1 h 55 min"], "answer": 3, "explanation": "Temps = Distance / GS = 210/110 h = 1.91 h → 1 h 55 min."}, {"q": "Vitesse sol (GS) pour 90 NM en 2.5 h :", "choices": ["31", "36", "44", "48"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 2.5 h ≈ 36 kt."}, {"q": "Temps de vol pour 90 NM à 150 kt :", "choices": ["0 h 26 min", "0 h 36 min", "0 h 44 min", "0 h 51 min"], "answer": 1, "explanation": "Temps = Distance / GS = 90/150 h = 0.60 h → 0 h 36 min."}, {"q": "Temps de vol pour 240 NM à 120 kt :", "choices": ["2 h 00 min", "2 h 08 min", "2 h 15 min", "2 h 00 min"], "answer": 0, "explanation": "Temps = Distance / GS = 240/120 h = 2.00 h → 2 h 00 min."}, {"q": "Temps de vol pour 75 NM à 90 kt :", "choices": ["0 h 40 min", "0 h 50 min", "0 h 58 min", "1 h 05 min"], "answer": 1, "explanation": "Temps = Distance / GS = 75/90 h = 0.83 h → 0 h 50 min."}, {"q": "Distance parcourue à 120 kt en 50 min :", "choices": ["95", "100", "106", "112"], "answer": 1, "explanation": "Distance = GS × Temps = 120 × 50/60 ≈ 100 NM."}, {"q": "Convertir 332 mph en kt (≈) :", "choices": ["281", "288", "295", "306"], "answer": 1, "explanation": "332 mph ÷ 1.15078 ≈ 288 kt."}, {"q": "Temps de vol pour 180 NM à 110 kt :", "choices": ["1 h 53 min", "1 h 28 min", "1 h 38 min", "1 h 46 min"], "answer": 2, "explanation": "Temps = Distance / GS = 180/110 h = 1.64 h → 1 h 38 min."}, {"q": "Convertir 139 kt en mph (≈) :", "choices": ["151", "160", "170", "180"], "answer": 1, "explanation": "139 kt × 1.15078 ≈ 160 mph."}, {"q": "Convertir 129 mph en kt (≈) :", "choices": ["105", "112", "119", "127"], "answer": 1, "explanation": "129 mph ÷ 1.15078 ≈ 112 kt."}, {"q": "Convertir 215 kt en mph (≈) :", "choices": ["240", "247", "255", "265"], "answer": 1, "explanation": "215 kt × 1.15078 ≈ 247 mph."}, {"q": "Avec TC = 55° et WCA = -12° (positif = dérive droite), trouver TH :", "choices": ["34°", "43°", "53°", "63°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 55 + (-12) = 43°."}, {"q": "Convertir 15° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 00 min", "1 h 15 min", "1 h 00 min", "1 h 08 min"], "answer": 0, "explanation": "1 h = 15°. 15° ÷ 15 = 1.00 h → 1 h 00 min."}, {"q": "Convertir 226 kt en mph (≈) :", "choices": ["249", "260", "272", "278"], "answer": 1, "explanation": "226 kt × 1.15078 ≈ 260 mph."}, {"q": "Convertir 22.5° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 38 min", "1 h 30 min", "1 h 20 min", "1 h 45 min"], "answer": 1, "explanation": "1 h = 15°. 22.5° ÷ 15 = 1.50 h → 1 h 30 min."}, {"q": "Au pôle, les parallèles :", "choices": ["Sont conceptuellement concentriques (l'équateur et les latitudes entourent le pôle)", "Convergent", "Sont des méridiens", "Sont des rayons"], "answer": 0, "explanation": "Parallèles = cercles concentriques autour de l'axe terrestre ; les méridiens convergent."}, {"q": "Convertir 4 h de différence de temps en degrés de longitude :", "choices": ["55°", "60°", "65°", "70°"], "answer": 1, "explanation": "15° par heure. 4 h × 15 = 60°."}, {"q": "Temps de vol pour 90 NM à 130 kt :", "choices": ["0 h 32 min", "0 h 50 min", "0 h 57 min", "0 h 42 min"], "answer": 3, "explanation": "Temps = Distance / GS = 90/130 h = 0.69 h → 0 h 42 min."}, {"q": "En Mercator, les rhumb lines (loxodromies) :", "choices": ["Coupent tous les méridiens sous un angle constant", "Sont les plus courtes entre deux points éloignés", "Sont toujours identiques aux grands cercles", "N'existent pas aux hautes latitudes"], "answer": 0, "explanation": "Loxodromie = cap constant → coupe chaque méridien sous le même angle."}, {"q": "Convertir 262 kt en mph (≈) :", "choices": ["295", "302", "310", "322"], "answer": 1, "explanation": "262 kt × 1.15078 ≈ 302 mph."}, {"q": "Convertir 12° de différence de longitude en différence de temps (LMT) :", "choices": ["0 h 38 min", "0 h 56 min", "0 h 48 min", "1 h 03 min"], "answer": 2, "explanation": "1 h = 15°. 12° ÷ 15 = 0.80 h → 0 h 48 min."}, {"q": "Convertir 143 mph en kt (≈) :", "choices": ["118", "124", "133", "139"], "answer": 1, "explanation": "143 mph ÷ 1.15078 ≈ 124 kt."}, {"q": "Convertir 1.5 h de différence de temps en degrés de longitude :", "choices": ["17.5°", "22.5°", "27.5°", "32.5°"], "answer": 1, "explanation": "15° par heure. 1.5 h × 15 = 22.5°."}, {"q": "Trouver CH à partir de MH=207° avec Déviation=5°E :", "choices": ["194°", "202°", "211°", "217°"], "answer": 1, "explanation": "CH = MH − Dev(E). MH=207°, Dev=5°E → CH=202°."}, {"q": "Vitesse sol (GS) pour 180 NM en 4 h :", "choices": ["36", "45", "55", "60"], "answer": 1, "explanation": "GS = Distance / Temps = 180 NM / 4 h ≈ 45 kt."}, {"q": "Temps de vol pour 120 NM à 110 kt :", "choices": ["1 h 13 min", "1 h 05 min", "1 h 20 min", "1 h 00 min"], "answer": 1, "explanation": "Temps = Distance / GS = 120/110 h = 1.09 h → 1 h 05 min."}, {"q": "Distance parcourue à 180 kt en 50 min :", "choices": ["145", "150", "158", "165"], "answer": 1, "explanation": "Distance = GS × Temps = 180 × 50/60 ≈ 150 NM."}, {"q": "Distance parcourue à 90 kt en 40 min :", "choices": ["53", "60", "70", "75"], "answer": 1, "explanation": "Distance = GS × Temps = 90 × 40/60 ≈ 60 NM."}, {"q": "Trouver MH à partir de TH=223° avec Variation=15°W :", "choices": ["230°", "238°", "247°", "250°"], "answer": 1, "explanation": "MH = TH + Var(W). Ici TH=223°, Var=15°W → MH=238°."}, {"q": "Convertir 15° de différence de longitude en différence de temps (LMT) :", "choices": ["1 h 00 min", "1 h 00 min", "1 h 08 min", "1 h 15 min"], "answer": 0, "explanation": "1 h = 15°. 15° ÷ 15 = 1.00 h → 1 h 00 min."}, {"q": "Avec TC = 188° et WCA = -5° (positif = dérive droite), trouver TH :", "choices": ["177°", "183°", "190°", "203°"], "answer": 1, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 188 + (-5) = 183°."}, {"q": "Convertir 202 kt en mph (≈) :", "choices": ["221", "232", "242", "252"], "answer": 1, "explanation": "202 kt × 1.15078 ≈ 232 mph."}, {"q": "Distance parcourue à 220 kt en 60 min :", "choices": ["213", "220", "230", "235"], "answer": 1, "explanation": "Distance = GS × Temps = 220 × 60/60 ≈ 220 NM."}, {"q": "Convertir 1 h de différence de temps en degrés de longitude :", "choices": ["10°", "15°", "20°", "25°"], "answer": 1, "explanation": "15° par heure. 1 h × 15 = 15°."}, {"q": "Avec TC = 10° et WCA = -5° (positif = dérive droite), trouver TH :", "choices": ["5°", "12°", "25°", "359°"], "answer": 0, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 10 + (-5) = 5°."}, {"q": "Vitesse sol (GS) pour 240 NM en 1.5 h :", "choices": ["151", "160", "168", "175"], "answer": 1, "explanation": "GS = Distance / Temps = 240 NM / 1.5 h ≈ 160 kt."}, {"q": "Convertir 45° de différence de longitude en différence de temps (LMT) :", "choices": ["3 h 15 min", "3 h 00 min", "3 h 00 min", "3 h 08 min"], "answer": 1, "explanation": "1 h = 15°. 45° ÷ 15 = 3.00 h → 3 h 00 min."}, {"q": "La 'variation magnétique' (declination) est :", "choices": ["L'angle entre nord vrai et nord magnétique", "L'angle entre nord magnétique et nord compas", "La dérive due au vent", "La convergence des méridiens"], "answer": 0, "explanation": "Variation = angle (E/W) entre True North et Magnetic North."}, {"q": "La correction de dérive (drift correction) est appliquée :", "choices": ["Toujours face au vent (upwind)", "Toujours sous le vent (downwind)", "Indifféremment", "Jamais en présence de vent de travers"], "answer": 0, "explanation": "On pointe le nez vers le vent pour contrer la dérive latérale."}, {"q": "Trouver MH à partir de TH=181° avec Variation=12°E :", "choices": ["161°", "169°", "178°", "184°"], "answer": 1, "explanation": "MH = TH − Var(E). Ici TH=181°, Var=12°E → MH=169°."}, {"q": "Convertir 283 kt en mph (≈) :", "choices": ["315", "326", "334", "346"], "answer": 1, "explanation": "283 kt × 1.15078 ≈ 326 mph."}, {"q": "Distance parcourue à 200 kt en 90 min :", "choices": ["295", "300", "306", "312"], "answer": 1, "explanation": "Distance = GS × Temps = 200 × 90/60 ≈ 300 NM."}, {"q": "Au voisinage des pôles, les méridiens :", "choices": ["Convergent", "Sont parallèles", "Sont concentriques", "Sont confondus avec les parallèles"], "answer": 0, "explanation": "Les méridiens convergent vers les pôles ; les parallèles sont concentriques."}, {"q": "Vitesse sol (GS) pour 60 NM en 4 h :", "choices": ["8", "15", "23", "30"], "answer": 1, "explanation": "GS = Distance / Temps = 60 NM / 4 h ≈ 15 kt."}, {"q": "Convertir 208 mph en kt (≈) :", "choices": ["175", "181", "190", "199"], "answer": 1, "explanation": "208 mph ÷ 1.15078 ≈ 181 kt."}, {"q": "Vitesse sol (GS) pour 270 NM en 1 h :", "choices": ["265", "270", "280", "285"], "answer": 1, "explanation": "GS = Distance / Temps = 270 NM / 1 h ≈ 270 kt."}, {"q": "Convertir 356 mph en kt (≈) :", "choices": ["302", "309", "316", "324"], "answer": 1, "explanation": "356 mph ÷ 1.15078 ≈ 309 kt."}, {"q": "Vitesse sol (GS) pour 90 NM en 3 h :", "choices": ["21", "30", "36", "45"], "answer": 1, "explanation": "GS = Distance / Temps = 90 NM / 3 h ≈ 30 kt."}, {"q": "Trouver CH à partir de MH=229° avec Déviation=2°E :", "choices": ["219°", "227°", "233°", "239°"], "answer": 1, "explanation": "CH = MH − Dev(E). MH=229°, Dev=2°E → CH=227°."}, {"q": "Convertir 377 kt en mph (≈) :", "choices": ["423", "434", "442", "454"], "answer": 1, "explanation": "377 kt × 1.15078 ≈ 434 mph."}, {"q": "Vitesse sol (GS) pour 270 NM en 1.5 h :", "choices": ["175", "180", "186", "192"], "answer": 1, "explanation": "GS = Distance / Temps = 270 NM / 1.5 h ≈ 180 kt."}, {"q": "Convertir 60° de différence de longitude en différence de temps (LMT) :", "choices": ["4 h 08 min", "4 h 00 min", "4 h 15 min", "4 h 00 min"], "answer": 1, "explanation": "1 h = 15°. 60° ÷ 15 = 4.00 h → 4 h 00 min."}, {"q": "Distance parcourue à 120 kt en 120 min :", "choices": ["235", "240", "250", "255"], "answer": 1, "explanation": "Distance = GS × Temps = 120 × 120/60 ≈ 240 NM."}, {"q": "Convertir 75° de différence de longitude en différence de temps (LMT) :", "choices": ["5 h 08 min", "5 h 00 min", "5 h 00 min", "5 h 15 min"], "answer": 1, "explanation": "1 h = 15°. 75° ÷ 15 = 5.00 h → 5 h 00 min."}, {"q": "Vitesse sol (GS) pour 210 NM en 3 h :", "choices": ["65", "70", "78", "82"], "answer": 1, "explanation": "GS = Distance / Temps = 210 NM / 3 h ≈ 70 kt."}, {"q": "Distance parcourue à 90 kt en 50 min :", "choices": ["68", "75", "83", "87"], "answer": 1, "explanation": "Distance = GS × Temps = 90 × 50/60 ≈ 75 NM."}, {"q": "Convertir 449 mph en kt (≈) :", "choices": ["384", "390", "399", "408"], "answer": 1, "explanation": "449 mph ÷ 1.15078 ≈ 390 kt."}, {"q": "Convertir 285 mph en kt (≈) :", "choices": ["243", "248", "255", "266"], "answer": 1, "explanation": "285 mph ÷ 1.15078 ≈ 248 kt."}, {"q": "Convertir 171 mph en kt (≈) :", "choices": ["142", "149", "156", "167"], "answer": 1, "explanation": "171 mph ÷ 1.15078 ≈ 149 kt."}, {"q": "Avec TC = 350° et WCA = -8° (positif = dérive droite), trouver TH :", "choices": ["2°", "333°", "342°", "349°"], "answer": 2, "explanation": "TH = TC ± WCA (WCA à gauche). Ici TH = 350 + (-8) = 342°."}, {"q": "Distance parcourue à 100 kt en 90 min :", "choices": ["145", "150", "156", "165"], "answer": 1, "explanation": "Distance = GS × Temps = 100 × 90/60 ≈ 150 NM."}, {"q": "Trouver CH à partir de MH=283° avec Déviation=9°W :", "choices": ["284°", "292°", "301°", "307°"], "answer": 1, "explanation": "CH = MH + Dev(W). MH=283°, Dev=9°W → CH=292°."}];

function renderExam() {
  const container = document.getElementById('exam');
  container.innerHTML = "";
  data.forEach((q, idx) => {
    const wrap = document.createElement('div');
    wrap.className = 'q';
    const title = document.createElement('h3');
    title.textContent = (idx+1) + ". " + q.q;
    wrap.appendChild(title);

    const choices = document.createElement('div');
    choices.className = 'choices';
    q.choices.forEach((c, j) => {
      const id = `q${idx}_c${j}`;
      const lab = document.createElement('label');
      const inp = document.createElement('input');
      inp.type = 'radio';
      inp.name = 'q'+idx;
      inp.value = j;
      inp.id = id;
      lab.htmlFor = id;
      lab.appendChild(inp);
      lab.appendChild(document.createTextNode(" " + c));
      choices.appendChild(lab);
    });
    wrap.appendChild(choices);

    const expl = document.createElement('div');
    expl.className = 'explain';
    expl.id = 'exp_'+idx;
    wrap.appendChild(expl);

    container.appendChild(wrap);
  });
}

function validate() {
  let correct = 0;
  data.forEach((q, idx) => {
    const radios = document.querySelectorAll(`input[name='q${idx}']`);
    let chosen = -1;
    radios.forEach(r => { if (r.checked) chosen = parseInt(r.value); });
    const exp = document.getElementById('exp_'+idx);
    exp.style.display = 'block';
    exp.innerHTML = "";

    const p = document.createElement('div');
    if (chosen === q.answer) {
      correct++;
      p.innerHTML = `<span class='badge good'>Correct</span> Bonne réponse : <b>${q.choices[q.answer]}</b>`;
      exp.appendChild(p);
    } else {
      p.innerHTML = `<span class='badge bad'>Incorrect</span> Bonne réponse : <b>${q.choices[q.answer]}</b>`;
      exp.appendChild(p);
    }
    const why = document.createElement('div');
    why.textContent = q.explanation;
    why.style.marginTop = "6px";
    exp.appendChild(why);
  });
  const score = document.getElementById('score');
  score.textContent = `Score : ${correct} / ${data.length} (${Math.round((correct/data.length)*100)}%)`;
}

document.addEventListener('click', (e) => {
  if (e.target && e.target.id === 'submitBtn') validate();
  if (e.target && e.target.id === 'resetBtn') {
    renderExam();
    document.getElementById('score').textContent = "";
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
});

renderExam();
</script>
</body>
</html>